!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={exists:function(t){return null!==t&&void 0!==t},getComputedStyle:function(t){return window.getComputedStyle(t)},getLayout:function(t){return this.isDOMElement(t)||this.isDOMNode(t)?t.getBoundingClientRect():null},getMargin:function(t){if(!this.isDOMElement(t)&&!this.isDOMNode(t))return null;var e=this.getComputedStyle(t);return{left:parseFloat(e.marginLeft),top:parseFloat(e.marginTop)}},getOpacity:function(t){return this.isDOMElement(t)||this.isDOMNode(t)?parseFloat(this.getComputedStyle(t).opacity):null},isDOMElement:function(t){return"object"===("undefined"==typeof HTMLElement?"undefined":i(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":i(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},isDOMNode:function(t){return"object"===("undefined"==typeof Node?"undefined":i(Node))?t instanceof Node:t&&"object"===(void 0===t?"undefined":i(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(a),l=function(){function t(){i(this,t),this.flipUnits={},this.default={duration:1e3}}return r(t,null,[{key:"getInstance",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),r(t,[{key:"first",value:function(t){var e=t,n=this.getFlipUnit(e.dataset.flipId);return n=null===n?this.initFlipUnit(e):this.updateFlipUnit(e),e.style.transition="",n}},{key:"getFlipUnit",value:function(t){return this.flipUnits[t]||null}},{key:"initFlipUnit",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t,i="flip-"+(new Date).getTime();n.dataset.flipId=i;var r=o.default.getLayout(n),a=o.default.getMargin(n),l=o.default.getOpacity(n);return this.flipUnits[i]={id:i,el:n,stats:{layout:r,margin:a,opacity:l},current:{layout:r,margin:a,opacity:l},preparing:e},this.flipUnits[i]}},{key:"invert",value:function(t){var e=t,n=this.getFlipUnit(e.dataset.flipId),i=n.current,r=i.layout,a=r.top,l=r.left,u=r.width,s=r.height,f={layout:o.default.getLayout(e)},p=f.layout,d=p.top,c=p.left,y=p.width,g=p.height,m={x:l-c,y:a-d,sx:u/y,sy:s/g};return e.style.transformOrigin="0 0",e.style.transform="translate3d("+m.x+"px, "+m.y+"px, 0)\n       scale("+m.sx+", "+m.sy+")",n.el=e,n}},{key:"last",value:function(t,e){var n=t,i=e.x,r=e.y,a=e.scale,l=this.getFlipUnit(n.dataset.flipId),u=l.stats,s=u.margin,f=u.layout;return o.default.exists(i)&&(n.style.marginLeft=s.left+i+"px"),o.default.exists(r)&&(n.style.marginTop=s.top+r+"px"),o.default.exists(a)&&(n.style.width=f.width*a+"px",n.style.height=f.height*a+"px"),l.el=n,l}},{key:"linkUnitPromise",value:function(t,e,n){var i=this.flipUnits[t];i.promise;return i.promise={resolve:e,reject:n},i}},{key:"magic",value:function(t,e,n){var i=this,r="magic-wand-"+Date.now();return new Promise(function(a,l){var u=t;if(!o.default.isDOMElement(u)&&!o.default.isDOMNode(u))return void l("[FLIP ERROR]: "+u+" is not a dom element.");var s=i.getFlipUnit(u.dataset.flipId);if(null!==s&&s.preparing)return void l("[FLIP ERROR]: Magic will not display while time gap is too small.");s=i.first(u),s=i.linkUnitPromise(s.id,a,l);var f=i.default.duration;requestAnimationFrame(function(){function t(){s.magicWand===r&&(u.style.transition="",u.style.transformOrigin="",s.promise=null,a(this))}s=i.last(u,e),s=i.invert(u),requestAnimationFrame(function(){s.preparing=!1,s.magicWand=r,i.play(u,e,n||f)}),u.addEventListener("transitionend",t,{capture:!1,once:!0})})})}},{key:"play",value:function(t,e,n){var i=t,r=this.getFlipUnit(i.dataset.flipId),a=e.opacity;return i.style.transition="all "+n+"ms ease",i.style.transform="",o.default.exists(a)&&(i.style.opacity=a),r.el=i,r}},{key:"reload",value:function(t){var e=t;if(null===this.getFlipUnit(e.dataset.flipId))throw new Error("[FLIP ERROR]: element "+e+" has never show its magic yet.");return this.initFlipUnit(e,!1),this}},{key:"updateFlipUnit",value:function(t){var e=t,n=this.getFlipUnit(e.dataset.flipId),i=o.default.getLayout(e),r=o.default.getOpacity(e);return e.style.opacity=r,n.current.layout=i,n.current.opacity=r,n.preparing=!0,n}}]),t}();l.instance=null,e.default=l.getInstance()}]);