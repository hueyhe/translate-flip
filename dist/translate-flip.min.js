!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ERROR_PREFIX="[FLIP ERROR]:",e.INFO_PREFIX="[FLIP INFO]:",e.WARNNING_PREFIX="[FLIP WARNNING]:"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={exists:function(t){return null!==t&&void 0!==t},getComputedStyle:function(t){return window.getComputedStyle(t)},getLayout:function(t){return this.isDOMElement(t)||this.isDOMNode(t)?t.getBoundingClientRect():null},getMargin:function(t){if(!this.isDOMElement(t)&&!this.isDOMNode(t))return null;var e=this.getComputedStyle(t);return{left:parseFloat(e.marginLeft),top:parseFloat(e.marginTop)}},getOpacity:function(t){return this.isDOMElement(t)||this.isDOMNode(t)?parseFloat(this.getComputedStyle(t).opacity):null},isDOMElement:function(t){return"object"===("undefined"==typeof HTMLElement?"undefined":i(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":i(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},isDOMNode:function(t){return"object"===("undefined"==typeof Node?"undefined":i(Node))?t instanceof Node:t&&"object"===(void 0===t?"undefined":i(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},isNumber:function(t){return"number"==typeof t},isObject:function(t){return this.exists(t)&&"object"===(void 0===t?"undefined":i(t))&&!Array.isArray(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i);n(0);e.default={Cubic:function(t,e,n,i){return r.default.exists(t)&&r.default.exists(e)&&r.default.exists(n)&&r.default.exists(i)?"cubic-bezier("+t+","+e+","+n+","+i+")":"cubic-bezier(.17,.67,.83,.67)"},Ease:"ease",EaseIn:"ease-in",EaseOut:"ease-out",EaseInOut:"ease-in-out",Linear:"linear",MDCubic:"cubic-bezier(0.4,0,0.2,1)"}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(2),o=i(u),s=n(1),l=i(s),f=n(0),c=function(){function t(){r(this,t),this.flipUnits={},this.default={duration:1e3,options:{use3d:!0}}}return a(t,null,[{key:"getInstance",value:function(){return null===t.instance&&(t.instance=new t,t.instance.Easing=o.default),t.instance}}]),a(t,[{key:"first",value:function(t,e){var n=t,i=this.getFlipUnit(n.dataset.flipId);i=null===i?this.initFlipUnit(n):this.updateFlipUnit(n);var r=this.default.options;return i.options=Object.assign({},r,e),n.style.transition="",i}},{key:"getFlipUnit",value:function(t){return this.flipUnits[t]||null}},{key:"initFlipUnit",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t,i="flip-"+(new Date).getTime();n.dataset.flipId=i;var r=l.default.getLayout(n),a=l.default.getMargin(n),u=l.default.getOpacity(n);return this.flipUnits[i]={id:i,el:n,stats:{layout:r,margin:a,opacity:u},current:{layout:r,margin:a,opacity:u},preparing:e},this.flipUnits[i]}},{key:"invert",value:function(t){var e=t,n=this.getFlipUnit(e.dataset.flipId),i=n.current,r=n.options,a=i.layout,u=a.top,o=a.left,s=a.width,f=a.height,c={layout:l.default.getLayout(e)},d=c.layout,p=d.top,y=d.left,m=d.width,g=d.height,h={x:o-y,y:u-p,sx:s/m,sy:f/g};return e.style.transformOrigin="0 0",e.style.transform=r.use3d?"translate3d("+h.x+"px, "+h.y+"px, 0) scale("+h.sx+", "+h.sy+")":"translate("+h.x+"px, "+h.y+"px) scale("+h.sx+", "+h.sy+")",n.el=e,n}},{key:"last",value:function(t,e){var n=t,i=this.getFlipUnit(n.dataset.flipId),r=i.stats,a=r.margin,u=r.layout,o=e.x,s=e.y,f=e.scale;return l.default.exists(o)&&(n.style.marginLeft=a.left+o+"px"),l.default.exists(s)&&(n.style.marginTop=a.top+s+"px"),l.default.exists(f)&&(n.style.width=u.width*f+"px",n.style.height=u.height*f+"px"),i.el=n,i}},{key:"linkUnitPromise",value:function(t,e,n){var i=this.flipUnits[t];i.promise;return i.promise={resolve:e,reject:n},i}},{key:"magic",value:function(t,e,n,i,r){var a=this,u="magic-wand-"+Date.now();return new Promise(function(o,s){var c=t;if(!l.default.isDOMElement(c)&&!l.default.isDOMNode(c))return void s(f.ERROR_PREFIX+" "+c+" is not a dom element.");if(!l.default.isObject(e))return void s(f.ERROR_PREFIX+" "+e+" is not valid. Please check whether your usage of param 'last' is correct.");if(l.default.exists(n)&&!l.default.isNumber(n))return void s(f.ERROR_PREFIX+" "+n+" is not valid. Param 'duration' should be number or float.");if(l.default.exists(r)&&!l.default.isObject(r))return void s(f.ERROR_PREFIX+" "+r+" is not valid. Please check whether your usage of param 'options' is correct.");var d=a.getFlipUnit(c.dataset.flipId);if(null!==d&&d.preparing)return void s(f.ERROR_PREFIX+" Magic will not display while time gap is too small.");d=a.first(c,r),d=a.linkUnitPromise(d.id,o,s);var p=a.default.duration;requestAnimationFrame(function(){function t(){d.magicWand===u&&(c.style.transition="",c.style.transformOrigin="",d.promise=null,o(this))}d=a.last(c,e),d=a.invert(c),requestAnimationFrame(function(){d.preparing=!1,d.magicWand=u,a.play(c,e,n||p,i)}),c.addEventListener("transitionend",t,{capture:!1,once:!0})})})}},{key:"play",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.default.EaseInOut,r=t,a=this.getFlipUnit(r.dataset.flipId),u=e.opacity;return r.style.transition="all "+n+"ms "+i,r.style.transform="",l.default.exists(u)&&(r.style.opacity=u),a.el=r,a}},{key:"reload",value:function(t){var e=t;if(null===this.getFlipUnit(e.dataset.flipId))throw new Error(f.ERROR_PREFIX+" element "+e+" has never show its magic yet.");return this.initFlipUnit(e,!1),this}},{key:"updateFlipUnit",value:function(t){var e=t,n=this.getFlipUnit(e.dataset.flipId),i=l.default.getLayout(e),r=l.default.getOpacity(e);return e.style.opacity=r,n.current.layout=i,n.current.opacity=r,n.preparing=!0,n}}]),t}();c.instance=null,t.exports=c.getInstance()}]);